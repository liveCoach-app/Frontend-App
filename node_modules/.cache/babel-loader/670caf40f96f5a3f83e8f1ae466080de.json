{"ast":null,"code":"var _jsxFileName = \"/Users/felixtoft/Git Repos/liveCoach/Frontend-App/src/LiveCoachView/LiveCoachMap.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport './CoachLive.css';\nimport { Stage, Layer, Rect, Text, Circle, Line, Image, Group } from 'react-konva';\nimport Konva from 'konva';\nimport NoteView from './NoteView.js';\nimport useImage from 'use-image';\nexport default function Map() {\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    id: \"mapContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NoteView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    id: \"mapRow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Drawing, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }\n  })));\n}\n\nconst MapImg = () => {\n  const [image] = useImage('http://ddragon.leagueoflegends.com/cdn/6.8.1/img/map/map11.png');\n  return /*#__PURE__*/React.createElement(Image, {\n    image: image,\n    width: 600,\n    height: 600,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 10\n    }\n  });\n};\n\nclass Drawing extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      lines: [],\n      circlePoints: [],\n      currentTool: 'brush',\n      eraser: false,\n      brush: true,\n      circle: false\n    };\n\n    this.handleMouseDown = () => {\n      if (this.state.brush === true) {\n        this._drawing = true; // add line\n\n        this.setState({\n          lines: [...this.state.lines, []]\n        });\n      } else if (this.state.eraser === true) {\n        const stage = this.stageRef.getStage();\n        const point = stage.getPointerPosition();\n        const xRange = [point.x - 15, point.x + 15];\n        const yRange = [point.y - 15, point.y + 15];\n        console.log('ERASING pointX: ' + point.x + ' point y ' + point.y);\n        const tempLines = this.state.lines;\n\n        for (let i = 0; i < tempLines.length; i++) {\n          const currentLine = tempLines[i];\n\n          for (let z = 0; z < currentLine.length - 1; z = z + 2) {\n            if (currentLine[z] > xRange[0] && currentLine[z] < xRange[1]) {\n              if (currentLine[z + 1] > yRange[0] && currentLine[z + 1] < yRange[1]) {\n                tempLines.splice(i, 1);\n                this.setState({\n                  lines: tempLines\n                });\n                return;\n              }\n            }\n          }\n        }\n      } else if (this.state.circle === true) {\n        const stage = this.stageRef.getStage();\n        const point = stage.getPointerPosition();\n        const tempCircles = this.state.circlePoints;\n        tempCircles.push([point.x, point.y]);\n        this.setState({\n          circlePoints: tempCircles\n        });\n        console.log(tempCircles);\n      }\n    };\n\n    this.handleMouseMove = e => {\n      if (!this._drawing) {\n        return;\n      }\n\n      if (this.state.brush === true) {\n        const stage = this.stageRef.getStage();\n        const point = stage.getPointerPosition();\n        const {\n          lines\n        } = this.state;\n        let lastLine = lines[lines.length - 1]; // add point\n\n        lastLine = lastLine.concat([point.x, point.y]); // replace last\n\n        lines.splice(lines.length - 1, 1, lastLine);\n        this.setState({\n          lines: lines.concat()\n        });\n      }\n    };\n\n    this.handleMouseUp = () => {\n      this._drawing = false;\n\n      if (this.state.circles) {\n        const stage = this.stageRef.getStage();\n        const point = stage.getPointerPosition();\n        const tempCircles = this.state.circlePoints;\n        tempCircles[tempCircles - 1].concat([point.x, point.y]);\n        console.log(tempCircles);\n        this.setState({\n          circlePoints: tempCircles\n        });\n      }\n    };\n\n    this.eraserClick = evt => {\n      alert('eraser on');\n      this.setState({\n        eraser: true,\n        currentTool: 'eraser',\n        brush: false,\n        circle: false\n      });\n    };\n\n    this.brushClick = evt => {\n      alert('brush on');\n      this.setState({\n        eraser: false,\n        currentTool: 'brush',\n        brush: true,\n        circle: false\n      });\n    };\n\n    this.clearClick = evt => {\n      alert('Cleared All');\n      this.setState({\n        lines: [],\n        circlePoints: []\n      });\n    };\n\n    this.circleClick = evt => {\n      alert('circle on');\n      this.setState({\n        eraser: false,\n        currentTool: 'circle',\n        brush: false,\n        circle: true\n      });\n    };\n  }\n\n  render() {\n    const stageWidth = 600;\n    const stageHeight = 600;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.brushClick,\n      id: \"brushButton\",\n      className: this.state.currentTool === 'brush' ? 'activeTool' : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }\n    }, \"Brush\")), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.eraserClick,\n      id: \"eraserButton\",\n      className: this.state.currentTool === 'eraser' ? 'activeTool' : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }\n    }, \"Eraser\")), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.circleClick,\n      id: \"circleButton\",\n      className: this.state.currentTool === 'circle' ? 'activeTool' : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 13\n      }\n    }, \"Circle\")), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.clearClick,\n      id: \"clearButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    }, \"Clear\"))), /*#__PURE__*/React.createElement(Stage, {\n      container: '#mapRow',\n      width: stageWidth,\n      height: stageHeight,\n      onContentMousedown: this.handleMouseDown,\n      onContentMousemove: this.handleMouseMove,\n      onContentMouseup: this.handleMouseUp,\n      ref: node => {\n        this.stageRef = node;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Layer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MapImg, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Layer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }\n    }, this.state.circlePoints.map((point, i) => /*#__PURE__*/React.createElement(Circle, {\n      key: i,\n      x: point[0],\n      y: point[1],\n      width: 100,\n      height: 100,\n      fill: 'blue',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(Layer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }\n    }, this.state.lines.map((line, i) => /*#__PURE__*/React.createElement(Line, {\n      key: i,\n      points: line,\n      stroke: \"red\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 50\n      }\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/Users/felixtoft/Git Repos/liveCoach/Frontend-App/src/LiveCoachView/LiveCoachMap.js"],"names":["React","Component","Container","Row","Col","Stage","Layer","Rect","Text","Circle","Line","Image","Group","Konva","NoteView","useImage","Map","MapImg","image","Drawing","state","lines","circlePoints","currentTool","eraser","brush","circle","handleMouseDown","_drawing","setState","stage","stageRef","getStage","point","getPointerPosition","xRange","x","yRange","y","console","log","tempLines","i","length","currentLine","z","splice","tempCircles","push","handleMouseMove","e","lastLine","concat","handleMouseUp","circles","eraserClick","evt","alert","brushClick","clearClick","circleClick","render","stageWidth","stageHeight","node","map","line"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport './CoachLive.css';\n\n\nimport { Stage, Layer, Rect, Text, Circle, Line, Image, Group } from 'react-konva';\nimport Konva from 'konva';\nimport NoteView from './NoteView.js'\nimport useImage from 'use-image';\n\n\nexport default function Map() {\n  return (\n    <Container fluid id=\"mapContainer\">\n      <NoteView />\n      <Row id=\"mapRow\">\n        <Drawing />\n      </Row>\n    </Container>\n  );\n}\n\n\nconst MapImg = () => {\n  const [image] = useImage('http://ddragon.leagueoflegends.com/cdn/6.8.1/img/map/map11.png');\n  return <Image image={image} width={600} height={600}/>;\n};\n\n\n\nclass Drawing extends Component {\n  state = {\n    lines: [],\n    circlePoints: [],\n    currentTool: 'brush',\n    eraser: false,\n    brush: true,\n    circle: false,\n  };\n\n\n\n  handleMouseDown = () => {\n\n    if(this.state.brush === true){\n      this._drawing = true;\n      // add line\n      this.setState({\n        lines: [...this.state.lines, []]\n      });\n    }\n    else if(this.state.eraser === true) {\n      const stage = this.stageRef.getStage();\n      const point = stage.getPointerPosition();\n      const xRange = [point.x - 15, point.x + 15]\n      const yRange = [point.y - 15, point.y + 15]\n\n      console.log('ERASING pointX: ' + point.x +' point y ' + point.y)\n\n      const tempLines = this.state.lines;\n\n      for(let i = 0; i < tempLines.length; i++) {\n        const currentLine = tempLines[i];\n\n        for(let z = 0; z < currentLine.length - 1; z = z+2) {\n\n          if(currentLine[z] > xRange[0] && currentLine[z] < xRange[1]) {\n            if(currentLine[z + 1] > yRange[0] && currentLine[z + 1] < yRange[1]) {\n              tempLines.splice(i, 1);\n\n              this.setState ({\n                lines: tempLines\n              });\n              return;\n            }\n          }\n        }\n      }\n    }\n    else if (this.state.circle === true) {\n      const stage = this.stageRef.getStage();\n      const point = stage.getPointerPosition();\n      const tempCircles = this.state.circlePoints;\n      tempCircles.push([point.x, point.y]);\n      this.setState({\n        circlePoints: tempCircles\n      })\n      console.log(tempCircles)\n    }\n  };\n\n  handleMouseMove = e => {\n\n    if (!this._drawing) {\n      return;\n    }\n\n    if(this.state.brush === true) {\n      const stage = this.stageRef.getStage();\n      const point = stage.getPointerPosition();\n      const { lines } = this.state;\n\n      let lastLine = lines[lines.length - 1];\n      // add point\n      lastLine = lastLine.concat([point.x, point.y]);\n\n      // replace last\n      lines.splice(lines.length - 1, 1, lastLine);\n      this.setState({\n        lines: lines.concat()\n      });\n    }\n  };\n\n\n  handleMouseUp = () => {\n    this._drawing = false;\n    if(this.state.circles) {\n      const stage = this.stageRef.getStage();\n      const point = stage.getPointerPosition();\n      const tempCircles = this.state.circlePoints\n      tempCircles[tempCircles - 1].concat([point.x, point.y])\n      console.log(tempCircles)\n      this.setState({\n        circlePoints: tempCircles\n      })\n\n    }\n  };\n\n\n  eraserClick = (evt) => {\n    alert('eraser on');\n    this.setState ({\n      eraser: true,\n      currentTool: 'eraser',\n      brush: false,\n      circle: false,\n    })\n  }\n\n  brushClick = (evt) => {\n    alert('brush on');\n    this.setState ({\n      eraser: false,\n      currentTool: 'brush',\n      brush: true,\n      circle: false,\n    })\n  }\n\n  clearClick = (evt) => {\n    alert('Cleared All');\n    this.setState ({\n      lines: [],\n      circlePoints: [],\n    })\n  }\n\n  circleClick = (evt) => {\n    alert('circle on');\n    this.setState ({\n      eraser: false,\n      currentTool: 'circle',\n      brush: false,\n      circle: true,\n    })\n  }\n\n  render() {\n    const stageWidth = 600;\n    const stageHeight = 600;\n\n    return (\n      <div>\n        <Container>\n          <Row>\n            <button\n              onClick={this.brushClick}\n              id=\"brushButton\"\n              className={this.state.currentTool === 'brush' ? 'activeTool' : ''}\n            >\n              Brush\n            </button>\n          </Row>\n          <Row>\n            <button\n              onClick={this.eraserClick}\n              id=\"eraserButton\"\n              className={this.state.currentTool === 'eraser' ? 'activeTool' : ''}\n            >\n              Eraser\n            </button>\n          </Row>\n          <Row>\n            <button\n              onClick={this.circleClick}\n              id=\"circleButton\"\n              className={this.state.currentTool === 'circle' ? 'activeTool' : ''}\n            >\n              Circle\n            </button>\n          </Row>\n          <Row>\n            <button\n              onClick={this.clearClick}\n              id=\"clearButton\"\n            >\n              Clear\n            </button>\n          </Row>\n\n        </Container>\n\n\n        <Stage\n          container={'#mapRow'}\n          width={stageWidth}\n          height={stageHeight}\n          onContentMousedown={this.handleMouseDown}\n          onContentMousemove={this.handleMouseMove}\n          onContentMouseup={this.handleMouseUp}\n          ref={node => {\n            this.stageRef = node;\n          }}\n        >\n          <Layer>\n            <MapImg />\n          </Layer>\n          <Layer>\n            {\n\n              this.state.circlePoints.map((point, i) => (\n                <Circle\n                  key={i}\n                  x={point[0]}\n                  y={point[1]}\n                  width={100}\n                  height={100}\n                  fill={'blue'}\n                />\n              ))\n            }\n          </Layer>\n          <Layer>\n            {\n              this.state.lines.map((line, i) => (<Line key={i} points={line} stroke=\"red\" />))\n            }\n          </Layer>\n        </Stage>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}